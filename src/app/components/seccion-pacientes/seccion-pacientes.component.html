<div class="container mx-auto p-4">
    <div class="bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold text-center mb-8">Usuarios atendidos al menos una vez</h1>
        <div *ngIf="pacientesAtendidos.length">
            <div *ngFor="let paciente of pacientesAtendidos" style="margin: 10px auto;" class="card w-80 h-80 bg-white shadow-lg rounded-lg mb-6 p-4">
                <div class="card-body text-center">
                    <h5 class="card-title text-xl font-semibold text-gray-800">{{ paciente.nombre }}</h5>
                    <div class="mt-4" *ngIf="ultimosTurnosPaciente.length">
                        <h6 class="card-subtitle mb-2 text-gray-600">Últimos Turnos:</h6>
                        @for(turno of ultimosTurnosPaciente; track turno.id)
                        {
                        <ul class="list-disc list-inside">
                            @if(paciente.uid == turno.paciente.uid)
                            {
                            <li>
                                Fecha: {{ turno.fechaTurno | date: 'medium' }}
                            </li>
                            }
                        </ul>
                        }
                        <button (click)="mostrarHistorial(paciente)" class="btn">Ver Historial clínico</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>